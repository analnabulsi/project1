<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dubai Duty Free Tennis - Guess the Balls</title>
    <style>
      body { margin: 0; padding: 0; font-family: "Segoe UI", Arial, sans-serif; background-color: #f4f7f6; color: #333; }
      .container { max-width: 800px; margin: 0 auto; padding: 20px; text-align: center; }
      .navbar { background-color: #002d62; padding: 10px 20px; color: white; }
      .nav-container { display: flex; align-items: center; justify-content: center; }
      .logo img { height: 40px; margin: 0 5px; border-radius: 4px; }
      #tennis { width: 100%; max-width: 500px; border-radius: 12px; margin: 20px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
      
      /* Countdown Styles */
      .countdown-section { max-width: 500px; margin: 20px auto; }
      .timer-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
      .card { background: #fff; border-radius: 8px; padding: 15px 5px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border: 1px solid #eee; }
      .card span { display: block; font-size: 1.8rem; font-weight: bold; color: #002d62; }
      .card p { margin: 0; font-size: 0.7rem; text-transform: uppercase; color: #d31d32; font-weight: 700; }

      /* Form Styles */
      #guessForm { display: flex; flex-direction: column; gap: 15px; max-width: 400px; margin: 30px auto; text-align: left; }
      input { padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; width: 100%; box-sizing: border-box; }
      button { background-color: #002d62; color: white; padding: 15px; border: none; border-radius: 6px; font-size: 18px; font-weight: bold; cursor: pointer; transition: 0.3s; }
      button:hover { background-color: #004080; }
      button:disabled { background-color: #cccccc; cursor: not-allowed; }
      
      #successMsg { display: none; background-color: #d4edda; color: #155724; padding: 10px; border-radius: 6px; margin-top: 10px; text-align: center; font-weight: bold; }

      footer { background-color: #002d62; padding: 15px 10px; text-align: center; margin-top: 40px; color: white; font-size: 14px; }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-container">
        <div class="logo"><img src="logo1.jpg"><img src="logo2.jpg"></div>
      </div>
    </nav>

    <div class="container">
      <header>
        <h1>Dubai Duty Free Tennis Championships</h1>
        <img src="guessball.jpg" alt="guess the ball" id="tennis" />
        <p>Guess the Number of Balls and Win Exciting Prizes!</p>
      </header>

      <div class="countdown-section">
        <div class="timer-grid">
          <div class="card"><span id="days">00</span><p>Days</p></div>
          <div class="card"><span id="hours">00</span><p>Hours</p></div>
          <div class="card"><span id="minutes">00</span><p>Mins</p></div>
          <div class="card"><span id="seconds">00</span><p>Secs</p></div>
        </div>
      </div>

      <main>
        <form id="guessForm">
          <input type="text" name="name" placeholder="Name" required pattern="^[A-Za-z\s]+$" title="Name should contain only letters and spaces"/>
          <input type="email" name="email" placeholder="Email" required />
          <input type="tel" name="mobile" placeholder="Mobile Number" required pattern="^(\+971|0)?5[0-9]{8}$" title="Enter a valid UAE mobile number (e.g., 0501234567 or +971501234567)"/>
          <input type="number" name="guess" placeholder="Your Guess" required min="1" title="Please enter a number greater than 0"/>
          <label style="font-size: 12px; display: flex; align-items: flex-start; gap: 8px;">
            <input type="checkbox" required> <span>I acknowledge that the information collected in this form will be used solely to process
              the submission for the “Guess the Number of Balls” competition. 
              It will be accessible only to authorized personnel who require it to administer the competition 
              and maintain the system. All data will be handled in accordance with the 
         <span style="color:#002d62"><u>Privacy Policy.</u></span> 
          </label>
          <button type="submit" id="submitBtn">Submit Guess</button>
          <div id="successMsg">Success! Your guess has been recorded.</div>
        </form>
      </main>
    </div>

    <footer><p>&copy; 2026 Dubai Duty Free Tennis. All Rights Reserved.</p></footer>

    <script>
      // 1. COUNTDOWN LOGIC (Ends Tomorrow at 10 AM)
      const targetDate = new Date("February 23, 2026 10:00:00").getTime();

      const countdownInterval = setInterval(function() {
        const now = new Date().getTime();
        const distance = targetDate - now;

        if (distance < 0) {
          clearInterval(countdownInterval);
          document.querySelector(".timer-grid").innerHTML = "<h2 style='color:#d31d32; grid-column: 1/-1;'>COMPETITION CLOSED</h2>";
          document.getElementById("submitBtn").disabled = true;
          return;
        }

        // Calculations
        const d = Math.floor(distance / (1000 * 60 * 60 * 24));
        const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((distance % (1000 * 60)) / 1000);

        // Display results
        document.getElementById("days").innerText = d;
        document.getElementById("hours").innerText = String(h).padStart(2, '0');
        document.getElementById("minutes").innerText = String(m).padStart(2, '0');
        document.getElementById("seconds").innerText = String(s).padStart(2, '0');
      }, 1000);

      // 2. FORM SUBMISSION (To Google Sheets)
      const scriptURL = "https://script.google.com/macros/s/AKfycbxeo_IrqOhSijEtNK-sLvjMbw66uXJ0NZEezfbuR3njKDcvq5scCmoWS0s4y5nyfmWncg/exec";
      const form = document.getElementById("guessForm");
      const btn = document.getElementById("submitBtn");
      const successMsg = document.getElementById("successMsg");

      form.addEventListener("submit", e => {
        e.preventDefault();
        btn.disabled = true;
        btn.innerText = "Sending...";

        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
          .then(response => {
              successMsg.style.display = "block";
              form.reset();
              btn.innerText = "Submit Guess";
              btn.disabled = false;
              // Hide message after 6 seconds
              setTimeout(() => { successMsg.style.display = "none"; }, 6000);
          })
          .catch(error => {
              console.error('Error!', error.message);
              alert("Something went wrong. Please check your connection.");
              btn.disabled = false;
              btn.innerText = "Submit Guess";
          });
      });
    </script>
  </body>
</html>
